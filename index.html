<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formas Normales</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #d3d3d3; /* Fondo gris */
    }
    header {
      text-align: center;
      padding: 20px;
      background-color: #444;
      color: white;
    }
    header h1 {
      margin: 0;
      font-size: 2em;
    }
    header h2 {
      margin: 5px 0 0;
      font-weight: normal;
    }
    .tabs {
      display: flex;
      justify-content: center;
      background: #333;
      overflow-x: auto;
    }
    .tab-button {
      flex: 1;
      padding: 15px;
      cursor: pointer;
      background: #444;
      border: none;
      color: white;
      transition: background 0.3s;
    }
    .tab-button:hover {
      background: #555;
    }
    .tab-button.active {
      background: #007BFF;
    }
    .tab-content {
      display: none;
      padding: 20px;
      background: white;
      margin: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      animation: fadeIn 0.5s;
    }
    .tab-content.active {
      display: block;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    tr:hover {
      background: #f1f1f1;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Formas Normales para Entender Fácil</h1>
    <h2>Juan Felipe Gómez Gómez</h2>
  </header>

  <div class="tabs">
    <button class="tab-button active" data-tab="tab0">Sin Normalizar</button>
    <button class="tab-button" data-tab="tab1">¿Qué es Normalización?</button>
    <button class="tab-button" data-tab="tab2">1ª Forma Normal (1FN)</button>
    <button class="tab-button" data-tab="tab3">2ª Forma Normal (2FN)</button>
    <button class="tab-button" data-tab="tab4">3ª Forma Normal (3FN)</button>
    <button class="tab-button" data-tab="tab5">Diagrama Final</button>
  </div>

  <!-- TABLA SIN NORMALIZAR -->
  <div id="tab0" class="tab-content active">
    <h2>Tabla sin Normalizar</h2>
    <p><b>Explicación:</b> Aquí toda la información está en una sola tabla. 
    Esto genera redundancia porque si un cliente compra varios productos, su nombre y teléfono se repiten en cada fila.</p>
    <table border="1">
      <caption>Factura sin normalizar</caption>
      <tr>
        <th>id_factura</th>
        <th>fecha</th>
        <th>cliente_nombre</th>
        <th>cliente_tel</th>
        <th>vendedor_nombre</th>
        <th>vendedor_tel</th>
        <th>proveedor_nombre</th>
        <th>producto</th>
        <th>cantidad</th>
        <th>precio_unitario</th>
      </tr>
      <tr>
        <td>1</td>
        <td>2025-08-21</td>
        <td>Juan Pérez</td>
        <td>3001112233</td>
        <td>Carlos Gómez</td>
        <td>3112223344</td>
        <td>Nike</td>
        <td>Zapato X</td>
        <td>2</td>
        <td>150000</td>
      </tr>
      <tr>
        <td>2</td>
        <td>2025-08-22</td>
        <td>Ana Torres</td>
        <td>3105556677</td>
        <td>Carlos Gómez</td>
        <td>3112223344</td>
        <td>Adidas</td>
        <td>Zapato Y</td>
        <td>1</td>
        <td>200000</td>
      </tr>
    </table>
  </div>

  <!-- TABLA NORMALIZACION -->
  <div id="tab1" class="tab-content">
    <h2>¿Qué es Normalización?</h2>
    <p>La normalización es el proceso de organizar los datos en una base de datos para reducir la redundancia y mejorar la integridad.</p>
  </div>

  <div id="tab2" class="tab-content">
    <h2>Primera Forma Normal (1FN)</h2>
    <p><b>Explicación:</b> En 1FN eliminamos grupos repetidos y aseguramos que cada atributo sea atómico.
    Por eso se separa la información en dos tablas: <i>Factura</i> (datos generales de la factura) y <i>DetalleFactura</i> (productos comprados).</p>
    <table>
      <caption>Tabla: Factura</caption>
      <tr><th>id_factura</th><th>fecha</th><th>cliente_nombre</th><th>cliente_tel</th><th>vendedor_nombre</th><th>vendedor_tel</th></tr>
      <tr><td>1</td><td>2025-08-21</td><td>Juan Pérez</td><td>3001112233</td><td>Carlos Gómez</td><td>3112223344</td></tr>
    </table>
    <table>
      <caption>Tabla: DetalleFactura</caption>
      <tr><th>id_detalle</th><th>id_factura</th><th>proveedor_nombre</th><th>producto</th><th>cantidad</th><th>precio_unitario</th></tr>
      <tr><td>1</td><td>1</td><td>Nike</td><td>Zapato X</td><td>2</td><td>150000</td></tr>
    </table>
  </div>

  <div id="tab3" class="tab-content">
    <h2>Segunda Forma Normal (2FN)</h2>
    <p><b>Explicación:</b> En 2FN eliminamos dependencias parciales. 
    Ahora extraemos la información redundante (clientes, vendedores y proveedores) a una nueva tabla llamada <i>Persona</i>. 
    Luego las facturas y los detalles hacen referencia a las personas mediante llaves foráneas.</p>
    <table>
      <caption>Tabla: Persona</caption>
      <tr><th>id_persona</th><th>nombre</th><th>telefono</th><th>correo</th></tr>
      <tr><td>1</td><td>Juan Pérez</td><td>3001112233</td><td>juan@correo.com</td></tr>
      <tr><td>2</td><td>Carlos Gómez</td><td>3112223344</td><td>carlos@correo.com</td></tr>
      <tr><td>3</td><td>Nike</td><td>-</td><td>nike@proveedor.com</td></tr>
    </table>
    <table>
      <caption>Tabla: Factura</caption>
      <tr><th>id_factura</th><th>fecha</th><th>id_cliente (FK)</th><th>id_vendedor (FK)</th></tr>
      <tr><td>1</td><td>2025-08-21</td><td>1</td><td>2</td></tr>
    </table>
    <table>
      <caption>Tabla: DetalleFactura</caption>
      <tr><th>id_detalle</th><th>id_factura</th><th>id_proveedor (FK)</th><th>producto</th><th>cantidad</th><th>precio_unitario</th></tr>
      <tr><td>1</td><td>1</td><td>3</td><td>Zapato X</td><td>2</td><td>150000</td></tr>
    </table>
  </div>

  <div id="tab4" class="tab-content">
    <h2>Tercera Forma Normal (3FN)</h2>
    <p><b>Explicación:</b> En 3FN eliminamos dependencias transitivas. 
    En este caso, el <i>rol</i> de una persona (cliente, vendedor o proveedor) se maneja en una tabla independiente. 
    Así evitamos guardar roles en la tabla Persona, lo que sería redundante y dificultaría si alguien tiene varios roles.</p>
    <table>
      <caption>Tabla: Persona</caption>
      <tr><th>id_persona</th><th>nombre</th><th>telefono</th><th>correo</th></tr>
      <tr><td>1</td><td>Juan Pérez</td><td>3001112233</td><td>juan@correo.com</td></tr>
      <tr><td>2</td><td>Carlos Gómez</td><td>3112223344</td><td>carlos@correo.com</td></tr>
      <tr><td>3</td><td>Nike</td><td>-</td><td>nike@proveedor.com</td></tr>
    </table>
    <table>
      <caption>Tabla: Rol</caption>
      <tr><th>id_rol</th><th>nombre</th></tr>
      <tr><td>1</td><td>Cliente</td></tr>
      <tr><td>2</td><td>Vendedor</td></tr>
      <tr><td>3</td><td>Proveedor</td></tr>
    </table>
    <table>
      <caption>Tabla: PersonaRol</caption>
      <tr><th>id_persona</th><th>id_rol</th></tr>
      <tr><td>1</td><td>1</td></tr>
      <tr><td>2</td><td>2</td></tr>
      <tr><td>3</td><td>3</td></tr>
    </table>
    <table>
      <caption>Tabla: Factura</caption>
      <tr><th>id_factura</th><th>fecha</th><th>id_cliente (FK)</th><th>id_vendedor (FK)</th></tr>
      <tr><td>1</td><td>2025-08-21</td><td>1</td><td>2</td></tr>
    </table>
    <table>
      <caption>Tabla: DetalleFactura</caption>
      <tr><th>id_detalle</th><th>id_factura</th><th>id_proveedor (FK)</th><th>producto</th><th>cantidad</th><th>precio_unitario</th></tr>
      <tr><td>1</td><td>1</td><td>3</td><td>Zapato X</td><td>2</td><td>150000</td></tr>
    </table>
  </div>

  <div id="tab5" class="tab-content">
    <h2>Diagrama Final</h2>
    <p><b>Explicación:</b> En este diagrama vemos cómo quedó la base de datos en 3FN:
      <ul>
        <li><i>Persona</i>: almacena a clientes, vendedores y proveedores.</li>
        <li><i>Rol</i>: define los distintos roles que puede tener una persona.</li>
        <li><i>PersonaRol</i>: permite que una misma persona tenga más de un rol.</li>
        <li><i>Factura</i>: representa las facturas emitidas, ligadas a un cliente y a un vendedor.</li>
        <li><i>DetalleFactura</i>: guarda los productos vendidos, el proveedor y el precio unitario.</li>
      </ul>
      Con este modelo eliminamos redundancias y logramos un diseño flexible y escalable.
    </p>
    <img src="imagenes/diagrama final 1.2.png" alt="Diagrama Final" width="600">
  </div>

  <script>
    const buttons = document.querySelectorAll(".tab-button");
    const contents = document.querySelectorAll(".tab-content");

    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        buttons.forEach(b => b.classList.remove("active"));
        contents.forEach(c => c.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById(btn.dataset.tab).classList.add("active");
      });
    });
  </script>
</body>
</html>


